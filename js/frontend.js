(function(e){var t={init:function(){t.bind_buttons()},bind_buttons:function(){e(document).on("click",".btn",function(){var t=e(this);if(t.parent("ul").parent(".vote").hasClass("inactive")){return false}else{var n={action:"rate_topic",topic:e(".vote").attr("topicid"),rate_type:t.parent("ul").attr("class")};e.post(sf_vars.ajaxurl,n,function(n){if(n==0){alert("You already voted this topic!");return false}else if(n==1){alert("This topic is closed!");return false}else{var r=parseInt(e("."+t.parent("ul").attr("class")).children("li").children(".cnt").html());r=r+1;e("."+t.parent("ul").attr("class")).children("li").children(".cnt").html(r);t.parent("ul").append(n)}});e(".vote").addClass("inactive")}return false})}};e(document).ready(function(e){t.init()})})(jQuery)